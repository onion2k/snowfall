!function(t){function e(i){if(a[i])return a[i].exports;var s=a[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var a={};e.m=t,e.c=a,e.d=function(t,a,i){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=0)}([function(t,e){let a,i=void 0;class s{constructor(t){this.active=t.active,this.width=t.width,this.height=t.height,this.snowflakesLifetime=t.lifetime,this.snowflakes=[],this.platforms=[],this.prevTimestamp=Date.now(),this.fps=60,this.frameInterval=1e3/this.fps,this.timefactor=1;for(var e=0;e<this.active;e++){var i=Math.floor(Math.random()*this.width),s=Math.floor(Math.random()*this.height),r=Math.floor(2+3*Math.random());this.snowflakes.push({x:i,y:s,vx:80,vy:40+60*Math.random(),s:r}),a[3*e+0]=i,a[3*e+1]=s,a[3*e+2]=r}this.update()}screenmap(t){this.platforms=t,this.snowflakes.forEach((e,a)=>{if(e.l>0){let a=!1;t.forEach(t=>{e.x>t.left&&e.x<t.left+t.width&&(a=!0)}),a||(e.l=0)}})}update(){let t=Date.now(),e=1e3/(t-this.prevTimestamp);this.snowflakes.forEach((t,i)=>{t.l>0?0==t.l--&&(t.y=0,t.x=Math.random()*this.width,t.vx=80,t.vy=40+60*Math.random()):(t.x+=(Math.random()*(t.vx/e)-t.vx/e/2)*this.timefactor,t.y+=t.vy/e*this.timefactor,t.y>this.height?(t.y=0,t.x=Math.random()*this.width):this.platforms.forEach(e=>{t.y>e.top-3&&t.y<e.top&&t.x>e.left&&t.x<e.left+e.width&&Math.floor(2*Math.random())%2==0&&(t.l=this.snowflakesLifetime)})),a[3*i+0]=t.x,a[3*i+1]=t.y,a[3*i+2]=t.s}),this.prevTimestamp=t,setTimeout(()=>{this.update()},this.frameInterval)}}self.addEventListener("message",t=>{"init"===t.data.type?i=new s(t.data):"screenmap"===t.data.type?i?i.screenmap(t.data.platforms):console.warn("No snowfall worker instance"):a=new Uint16Array(t.data)})}]);